<div>
  <button mat-raised-button color="primary" (click)="addTab()">
    Add new tab
  </button>
</div>
<mat-tab-group>
  <mat-tab *ngFor="let tab of tabs; let index = index">
    <ng-template mat-tab-label>Tab{{ index + 1 }}</ng-template>
    <app-tab [tabIndex]="index"></app-tab>
    <div>
      <button mat-raised-button color="primary" (click)="removeTab(index)">
        Delete this tab
      </button>
    </div>
  </mat-tab>
</mat-tab-group>
